# 音频播放器 (Audio Player)

一个基于原生 HTML、CSS 和 JavaScript 构建的现代化音频播放器应用，采用模块化设计，具有水墨风格的用户界面。

## 项目特点

- 🎵 本地音乐播放支持
- 🎨 中国风水墨设计风格
- 📱 响应式布局，适配移动端
- 🧩 模块化架构，易于扩展
- 🗃️ 本地存储支持，持久化管理音乐文件

## 功能模块

### 主要功能
1. **本地音乐管理**
   - 扫描和导入本地音频文件
   - 音乐库展示和管理
   - 支持多种音频格式 (MP3, WAV, OGG等)

2. **在线音乐浏览**
   - 音乐搜索功能
   - 分类浏览推荐

3. **播放列表**
   - 创建和管理自定义播放列表
   - 收藏喜欢的音乐

4. **设置选项**
   - 音质选择
   - 播放模式设置
   - 界面主题配置

### 界面组件
- 顶部导航栏
- 侧边栏菜单
- 主内容区域
- 底部播放控制器

## 技术架构

### 核心技术栈
- HTML5
- CSS3 (含 Flexbox 布局)
- 原生 JavaScript (ES6+)

### 项目结构
```
audio/
├── components/          # UI 组件
│   ├── bottom-controller/
│   ├── main-content/
│   ├── sidebar/
│   └── top-nav/
├── core/               # 核心功能模块
│   ├── audio/
│   ├── storage/
│   └── ui/
├── modules/            # 业务功能模块
│   ├── local-music/
│   ├── online-music/
│   ├── playlists/
│   └── settings/
├── shared/             # 共享资源
│   └── css/
└── index.html          # 入口文件
```

### 设计模式
- 模块化加载机制
- 组件化开发
- 按需加载策略
- 事件驱动架构

### 架构更新 (v1.0)
最近完成了一次重大架构重构，实现了以下改进：

1. **模块系统重构**
   - 统一了模块加载机制，所有模块通过挂载到window对象的方式暴露接口
   - 优化了模块依赖管理，确保正确的加载顺序
   - 添加了依赖项检查机制，提供明确的错误信息

2. **组件解耦**
   - AudioPlayer与UIComponents完全解耦，通过事件总线进行通信
   - 核心功能类保持独立，不依赖具体UI组件
   - DOM操作与核心逻辑分离，保持清晰的职责边界

3. **事件系统完善**
   - 实现了独立的EventBus类，支持事件的订阅、发布、取消订阅和一次性订阅
   - 各组件通过事件总线进行通信，实现了松耦合架构
   - 提高了组件间通信的灵活性和可维护性

## 使用说明

1. 克隆或下载项目代码
2. 在现代浏览器中打开 `index.html` 文件
3. 开始使用音频播放器

注意：由于浏览器安全限制，某些功能（如文件读取）在本地文件协议（file://）下可能无法正常工作，建议通过 HTTP 服务器运行。

## 开发指南

### 添加新功能模块
1. 在 `modules/` 目录下创建新模块文件夹
2. 创建模块的 HTML、CSS 和 JS 文件
3. 在 `UIComponents.js` 中添加相应的初始化方法
4. 更新侧边栏导航链接

### 自定义样式
项目采用 CSS 变量和模块化样式管理，可以在 `shared/css/` 目录下找到全局样式定义。

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 许可证

本项目仅供学习交流使用。

## 项目状态

此项目为演示项目，部分功能（如在线音乐）需要进一步实现后端接口支持。最新版本已完成模块系统重构和组件解耦，采用了事件驱动架构，为后续功能扩展奠定了良好的基础。